"use strict";function nhViewModel(){function e(){var e={zoom:14,minZoom:3,maxZoom:18,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.HORIZONTAL_BAR,position:google.maps.ControlPosition.BOTTOM_LEFT}};m=new google.maps.Map(document.getElementById("map-canvas"),e),d=new google.maps.InfoWindow,m.setCenter(f)}function o(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){f={lat:e.coords.latitude,lng:e.coords.longitude},p(f);var o=new google.maps.Marker({map:m,anchorPoint:new google.maps.Point(-6,-29)});o.setIcon({url:"images/user.png",size:new google.maps.Size(25,25),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)}),m.setCenter(f),o.setPosition(f),d.setContent("<div><strong>You are Here</strong><br>according browser data..."),d.open(m,o)},function(){n(!0,d,m.getCenter())}):n(!1,d,m.getCenter())}function n(e,o,n){p(n);var t="<div><strong>Default Location in case...</strong><br>";o.setPosition(n),o.setContent(e?t+"Error: The Geolocation service failed.":t+"Error: Your browser doesn't support geolocation.")}function t(){var e=document.getElementById("search-bar"),o=new google.maps.places.Autocomplete(e);o.bindTo("bounds",m),o.addListener("place_changed",function(){var e=o.getPlace();return e.geometry?(p(e.geometry.location),a(e),void c(e)):void window.alert("Autocomplete's returned place contains no geometry")})}function a(e){var o=new google.maps.Marker({map:m,anchorPoint:new google.maps.Point(-6,-29)});o.setIcon({url:e.icon,size:new google.maps.Size(25,25),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)}),o.setPosition(e.geometry.location),u.markers.push(o)}function s(e){for(var o=0;o<u.markers.length;o++)u.markers[o].setMap(e)}function r(){s(null)}function i(){r(),u.markers=[]}function c(e){var o="";e.address_components&&(o=[e.address_components[0]&&e.address_components[0].short_name||"",e.address_components[1]&&e.address_components[1].short_name||"",e.address_components[2]&&e.address_components[2].short_name||""].join(" ")),d.setContent("<div><strong>"+e.name+"</strong><br>"+e.formatted_address+"</div>"),d.open(m,u.markers[0])}function l(e){u.places([]);var o=new google.maps.places.PlacesService(m);o.nearbySearch({location:e,radius:u.radius(),types:u.categories()},g)}function g(e,o,n){document.getElementById("places");if(o===google.maps.places.PlacesServiceStatus.OK){for(var t,s=0;t=e[s];s++)u.places.push(t),a(t);if(n.hasNextPage){var r=document.getElementById("more");r.disabled=!1,r.addEventListener("click",function(){r.disabled=!0,n.nextPage()})}}}function p(e){i(),m.setCenter(e),d.open(m),d.setPosition(e),l(e),m.setZoom(14)}var m,d,u=this,f={lat:53.339821,lng:-6.2362889999999425};u.places=ko.observableArray([]),u.markers=ko.observableArray([]),u.categories=ko.observableArray([]),u.icons=ko.observableArray([{bar:"https://maps.gstatic.com/mapfiles/place_api/icons/bar-71.png"},{cafe:"https://maps.gstatic.com/mapfiles/place_api/icons/cafe-71.png"}]),u.radius=ko.observable(1e3),e(),t(),o()}var SetMarker=function(e){this.marker=e};$(function(){ko.applyBindings(new nhViewModel),$("[group~=controls]").show(1e3),$("#hide").click(function(){var e="",o=$(this).children("span").attr("class");e="left"===o.slice(29)?o.replace("left","right"):o.replace("right","left"),$(this).siblings("div").animate({width:"toggle"},500),$(this).children("span").attr("class",e)})});