"use strict";function nhViewModel(){function e(){var e={center:u,zoom:14,minZoom:3,maxZoom:18,disableDefaultUI:!0};c=new google.maps.Map(document.getElementById("map-canvas"),e),r=new google.maps.InfoWindow({pixelOffset:new google.maps.Size(-23,-10)}),p=new google.maps.StyledMapType(d,{name:"Styled Map"}),c.mapTypes.set("map_style",p),c.setMapTypeId("map_style")}function o(){navigator.geolocation?navigator.geolocation.getCurrentPosition(function(e){u={lat:e.coords.latitude,lng:e.coords.longitude},c.setCenter(u),a(u)},function(){n(!0,r,c.getCenter())}):n(!1,r,c.getCenter())}function n(e,o,n){a(u)}function a(e){m.places([]);var o=new google.maps.places.PlacesService(c);o.nearbySearch({location:e,radius:m.radius(),types:m.categories()},t)}function t(e,o,n){{var a=new google.maps.LatLngBounds;document.getElementById("places")}if(o===google.maps.places.PlacesServiceStatus.OK){for(var t,i=0;t=e[i];i++)m.places.push(t),a.extend(t.geometry.location);s(),c.fitBounds(a)}}function i(){m.places([]);var e=document.getElementById("search-input"),o=new google.maps.places.SearchBox(e);c.addListener("bounds_changed",function(){o.setBounds(c.getBounds()),u=c.getCenter()}),o.addListener("places_changed",function(){m.places(o.getPlaces()),0!=m.places().length&&(1==m.places().length?a(m.places()[0].geometry.location):s())})}function s(){m.markers().forEach(function(e){e.setMap(null)}),m.markers([]),g=new google.maps.LatLngBounds,m.places().forEach(function(e){var o={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)},n=new google.maps.Marker({map:c,icon:o,title:e.name,animation:google.maps.Animation.DROP,position:e.geometry.location});n.addListener("click",function(){m.markers().forEach(function(e){e.setAnimation(null)}),n.setAnimation(null!==n.getAnimation()?null:google.maps.Animation.BOUNCE)}),m.markers().push(n),google.maps.event.addListener(n,"click",function(){l(e,n),c.setZoom(15)}),e.geometry.viewport?g.union(e.geometry.viewport):g.extend(e.geometry.location)}),c.fitBounds(g)}function l(e,o){r.setContent("<strong>"+e.name+"</strong><hr><span>"+e.vicinity+"</span>"),r.open(c,o),c.panTo(o.position)}var c,r,g,p,m=this,u={lat:53.339821,lng:-6.2362889999999425};m.places=ko.observableArray([]),m.markers=ko.observableArray([]),m.categories=ko.observableArray([]),m.icons=ko.observableArray([{icon:"https://maps.gstatic.com/mapfiles/place_api/icons/bar-71.png"},{icon:"https://maps.gstatic.com/mapfiles/place_api/icons/cafe-71.png"}]),m.radius=ko.observable(1e3),m.switchInfoBox=ko.observable(!0),m.listBoolean=ko.observable(!0);var d=[];e(),o(),i(),m.clickMarker=function(e){var o=e.name.toLowerCase();m.markers().forEach(function(e){e.title.toLowerCase()===o&&(google.maps.event.trigger(e,"click"),c.panTo(e.position))})},window.addEventListener("resize",function(e){c.fitBounds(g),$("#map-canvas").height($(window).height())})}$(function(){ko.applyBindings(new nhViewModel),$("[group~=controls]").show(1e3),$("#hide").click(function(){var e="",o=$(this).children("span").attr("class");e="left"===o.slice(29)?o.replace("left","right"):o.replace("right","left"),$(this).siblings("div").animate({width:"toggle"},500),$(this).children("span").attr("class",e)})});